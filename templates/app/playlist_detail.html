{% extends "base.html" %}
{% block body %}
    <div class="max-w-4xl mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold mb-4">{{ playlist.title }}</h1>
        <p class="text-sm text-muted mb-4">
            Owned by
            <a href="{% url 'user-profile' username=playlist.user.username %}"
               class="underline">{{ playlist.user.username }}</a>
            · {{ playlist.artists.all|length }} artist{{ playlist.artists.all|length|pluralize }}
            {% if playlist.is_public %}
                · 🌍 Public
            {% else %}
                · 🔒 Private
            {% endif %}
        </p>
        {% if playlist.artists.all %}
            <div class="grid gap-4">
                {% for artist in playlist.artists.all %}
                    <div class="bg-surface-2 border border-brand/30 rounded-lg p-4">
                        <a href="{% url 'artist-detail' pk=artist.pk %}"
                           class="text-lg font-semibold hover:underline">{{ artist.name }}</a>
                        <p class="text-sm text-muted">Producer: {{ artist.producer.name }}</p>
                        <p>⭐ {{ artist.avg_rating|default:"0"|floatformat:1 }} ({{ artist.num_ratings }})</p>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>No artists in this playlist.</p>
        {% endif %}
        <div class="mt-6 flex gap-4">
            {% if request.user == playlist.user %}
                <a href="{% url 'playlist-update' pk=playlist.pk %}"
                   class="px-4 py-2 bg-brand text-white rounded hover:bg-brand/80">Edit</a>
                <a href="{% url 'playlist-delete' pk=playlist.pk %}"
                   class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">Delete</a>
            {% endif %}
            <a href="{% url 'playlist-list' %}"
               class="px-4 py-2 bg-surface-3 text-white rounded hover:bg-surface-4">Back to Playlists</a>
        </div>
    </div>
{% endblock body %}
